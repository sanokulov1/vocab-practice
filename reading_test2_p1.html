<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Practice - Salt</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --passage-bg: #f8f9fa;
            --questions-bg: #ffffff;
            --border-color: #e0e0e0;
            --highlight-color: #87CEEB; /* Azure Blue for highlight */
            
            /* Header & Controls Colors (Azure themed) */
            --header-bg: #F0F8FF; /* Very light azure for header background */
            --header-text: #333333; /* Dark text for light header */

            /* Button Colors (Azure themed) */
            --button-bg: #007FFF; /* Primary button azure */
            --button-hover: #005fbe; /* Darker azure on hover */
            
            --correct-color: #28a745; /* Standard green */
            --incorrect-color: #dc3545; /* Standard red */
            --progress-complete: #007FFF; /* Azure for completed progress */
            --progress-incomplete: #bdbdbd;

            /* Timer Colors (Azure themed) */
            --timer-bg: #e0f2f7; /* Very light azure/cyan */
            --timer-text: #0288d1; /* Darker azure/cyan */

            --footer-bg: #f5f5f5;
        }

        .night-mode {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --passage-bg: #1e1e1e;
            --questions-bg: #1e1e1e;
            --border-color: #424242;
            --highlight-color: #0047AB; /* Darker Azure for night mode */
            
            /* Night Mode Header & Controls Colors */
            --header-bg: #1a1a1a; /* Dark gray for header background */
            --header-text: #ffffff; /* White text for dark header */

            /* Night Mode Button Colors */
            --button-bg: #0047AB; /* Darker primary button azure */
            --button-hover: #002e70; /* Even darker azure on hover */
            
            --correct-color: #218838; /* Darker green */
            --incorrect-color: #c82333; /* Darker red */
            --progress-complete: #0047AB; /* Darker azure for completed progress */
            --progress-incomplete: #616161;

            /* Night Mode Timer Colors */
            --timer-bg: #002b4d; /* Dark azure */
            --timer-text: #81d4fa; /* Lighter azure */

            --footer-bg: #121212;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            background-color: var(--header-bg);
            color: var(--header-text);
            padding: 12px 20px;
            display: flex;
            justify-content: flex-end; /* Align to the right since logo area is gone */
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .timer-container {
            background-color: var(--timer-bg);
            color: var(--timer-text);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-controls {
            display: flex;
            gap: 8px;
        }

        .timer-controls button {
            background: none;
            border: none;
            color: var(--timer-text);
            cursor: pointer;
            font-size: 16px;
            padding: 4px;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timer-controls button:hover {
            background-color: rgba(0,0,0,0.1); /* Darker hover for light timer */
        }
        .night-mode .timer-controls button:hover {
            background-color: rgba(255,255,255,0.2); /* Lighter hover for dark timer */
        }

        .mode-toggle {
            background: none;
            border: none;
            color: var(--header-text);
            cursor: pointer;
            font-size: 20px;
            padding: 6px;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-toggle:hover {
            background-color: rgba(0,0,0,0.1); /* Darker hover for light header */
        }
        .night-mode .mode-toggle:hover {
            background-color: rgba(255,255,255,0.2); /* Lighter hover for dark header */
        }

        main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .passage-container, .questions-container {
            height: 100%;
            overflow-y: auto;
            padding: 20px;
        }

        .passage-container {
            width: 50%;
            background-color: var(--passage-bg);
            border-right: 1px solid var(--border-color);
            position: relative;
        }

        .questions-container {
            width: 50%;
            background-color: var(--questions-bg);
        }

        .passage-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }

        .passage-text {
            font-size: 17px;
        }
        
        .question-text {
             font-size: 17px;
             line-height: 1.8; /* Increased line-height for fill-in-the-blank */
        }

        .passage-text p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight {
            background-color: var(--highlight-color);
            cursor: pointer;
        }

        .highlight-tooltip {
            position: absolute;
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1000;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin: 25px 0 15px;
            color: var(--text-color);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .question-group {
            margin-bottom: 30px;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--passage-bg);
            border-left: 4px solid var(--border-color);
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: baseline; /* Align baselines of number and text */
        }

        .question-number {
            display: inline-block;
            width: 28px;
            height: 28px;
            background-color: var(--progress-incomplete);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            margin-right: 10px;
            font-size: 14px;
            flex-shrink: 0;
        }

        .question.answered .question-number {
            background-color: var(--progress-complete);
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .option input {
            margin-right: 8px;
        }

        /* Styling for the new inline input fields */
        .fill-in-the-blank {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--text-color);
            width: 150px;
            font-family: inherit;
            font-size: 1em; /* Inherit font size from parent */
            color: inherit;
            padding: 0 4px 2px 4px; /* Add some padding */
            margin: 0 3px; /* Add some margin */
            vertical-align: baseline; /* Align with the text */
            text-align: center;
            outline: none;
            transition: border-color 0.3s;
        }

        .fill-in-the-blank:focus {
            border-bottom-color: var(--button-bg);
        }


        .instructions {
            font-size: 14px;
            color: #757575;
            margin-top: 5px;
            font-style: italic;
        }

        /* Styles for Flowchart display */
        .flowchart-title-main {
            font-size: 20px; /* Make it bigger */
            font-weight: 700;
            text-align: center; /* Center the title */
            margin: 25px 0 15px;
            color: var(--text-color);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .flowchart-group .question {
            border-left: none; /* Remove left border for flowchart questions */
            background-color: transparent; /* Make background transparent */
            padding: 0; /* Remove padding */
            margin-bottom: 0; /* Adjust margin */
        }
        .flowchart-group .question-title {
            margin-bottom: 5px;
        }
        .flowchart-arrow-container {
            display: flex;
            justify-content: center; /* Center the arrow horizontally */
            margin: 10px 0; /* Space above and below arrow */
        }
        .flowchart-arrow {
            font-size: 2em; /* Make arrow bigger */
            color: var(--text-color);
        }


        footer {
            background-color: var(--footer-bg);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            box-shadow: 0 -2px 5px rgba(0,0,0,0.05);
        }

        .progress-container {
            display: flex;
            gap: 8px;
        }

        .progress-item {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--progress-incomplete);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .progress-item:hover {
            transform: scale(1.1);
        }

        .progress-item.completed {
            background-color: var(--progress-complete);
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }

        .btn-primary {
            background-color: var(--button-bg);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--button-hover);
        }

        .btn-secondary {
            background-color: transparent;
            border: 1px solid var(--button-bg); /* Use primary button color for border */
            color: var(--button-bg); /* Use primary button color for text */
        }

        .btn-secondary:hover {
            background-color: rgba(0, 127, 255, 0.1); /* Light azure tint on hover */
        }
        .night-mode .btn-secondary:hover {
            background-color: rgba(0, 71, 171, 0.2); /* Darker azure tint on hover for night mode */
        }


        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
        }

        .feedback-container {
            background-color: var(--passage-bg);
            width: 90%;
            max-width: 900px;
            height: 90%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
        }

        .feedback-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .feedback-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        #close-feedback {
            font-size: 24px;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }

        .score-display {
            font-size: 24px;
            font-weight: 700;
            margin-left: 10px;
        }
        
        .feedback-body {
            padding: 20px;
            overflow-y: auto;
        }

        .feedback-item {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--questions-bg);
        }

        .feedback-question {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .feedback-answer {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            background-color: rgba(0,0,0,0.05);
        }

        .correct {
            color: var(--correct-color);
        }

        .incorrect {
            color: var(--incorrect-color);
        }

        .feedback-explanation {
            margin-top: 10px;
            padding: 10px;
            border-left: 3px solid var(--button-bg); /* Use primary button color for explanation border */
            background-color: rgba(0,0,0,0.03);
        }

        .feedback-passage {
            margin-top: 8px;
            font-style: italic;
            color: #757575;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            main {
                flex-direction: column;
            }
            
            .passage-container, .questions-container {
                width: 100%;
                height: 50%;
            }
            
            .passage-container {
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }
            
            .progress-container {
                flex-wrap: wrap;
                max-width: 60%;
            }
        }

        @media (max-width: 600px) {
            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }
            .header-controls {
                width: 100%;
                justify-content: space-around;
            }
            .progress-container {
                max-width: 50%;
            }
            .progress-item {
                width: 26px;
                height: 26px;
                font-size: 12px;
            }
            footer {
                flex-direction: column;
                gap: 15px;
            }
            .action-buttons {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0MJFGRJFR5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-0MJFGRJFR5');
</script>
</head>
<body>
    <header>
        <div class="header-controls">
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <span id="timer">20:00</span>
                <div class="timer-controls">
                    <button id="start-timer" title="Start"><i class="fas fa-play"></i></button>
                    <button id="pause-timer" title="Pause"><i class="fas fa-pause"></i></button>
                    <button id="reset-timer" title="Reset"><i class="fas fa-redo"></i></button>
                </div>
            </div>
            <button class="mode-toggle" id="night-mode-toggle" title="Toggle Night Mode">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <main>
        <div class="passage-container" id="passage-container">
            <div class="passage-content">
                <div class="passage-title">Salt</div>
                <div class="passage-text" id="passage-text">
                    <p>Salt is the common name for the substance sodium chloride (NaCl), which occurs in the form of transparent cubic crystals. Although salt is most familiar as a food supplement, less than 5% of the salt produced worldwide is used for that purpose. About 70% is utilized by the chemical industry, mostly as a source of chlorine. Salt is also used for countless other purposes, such as removing snow and ice from roads, softening water, preserving food, and stabilizing soils for construction.</p>
                    <p>The earliest humans obtained their salt from natural salt concentrations, as well as from meat. Those people who lived near the ocean may have also obtained it by chewing seaweed or from the natural evaporation of small pools of seawater. Meat became a more important source of salt as hunting was developed, as did milk when sheep, goats, horses, camels, reindeer, and cattle were domesticated. Even today, certain peoples—such as the Bedouin of the Middle Eastern deserts and the Maasai of East Africa—use no other forms of salt.</p>
                    <p>As agriculture developed, leading to a diet consisting mostly of plants, it became necessary to devise ways of obtaining salt in greater amounts. The earliest method of salt production employed by mankind was the evaporation of seawater using the heat of the sun. This method was particularly suited to hot, arid regions near the ocean or near salty lakes, and is still used in those areas. Solar evaporation was soon followed by the quarrying of exposed masses of rock salt, which quickly developed into the mining of underground deposits of salt. Two thousand years ago, the Chinese began using wells to reach underground pools of salt water, some of which were more than one kilometer deep.</p>
                    <p>In areas where the climate did not allow solar evaporation, salt water was poured on burning wood or heated rocks to boil it. The salt left behind was then scraped off. During the time of the Roman Empire, shallow lead pans were used to boil salt water over open fires to extract the salt. Later, in the Middle Ages, these were replaced with iron pans which were heated with coal. In the 1860s, a procedure known as the Michigan process was invented, in which salt water was heated by steam running through pipes immersed in the water. This process is still used to produce certain types of salt.</p>
                    <p>Nowadays, salt is collected from two sources: rock salt and brine. Rock salt is simply crystallized salt, also known as halite. It is the result of the evaporation of ancient oceans millions of years ago. Underground salt deposits are usually discovered by prospectors searching for water or oil. When salt is detected, a diamond-tipped, hollow drill is used to take several regularly spaced core samples throughout the area. These are analyzed to determine if salt mining would be profitable. If the site is thought to be suitable, vertical tunnels are sunk into the center of the salt deposit. Then a machine resembling a gigantic chain saw is used to cut a long horizontal slot through the salt, in a procedure known as undercutting. A series of holes are then drilled into the salt with an electric drill, and the holes are filled with explosives such as dynamite. Cutting and blasting are repeated in a pattern that leaves salt pillars standing to support the roof of the mining area. This is known as the room-and-pillar method and is also used in coal mines. Once blasted, chunks of the rock salt are transported to an underground crushing area where smaller pieces are collected via a metal grill and larger pieces are crushed in a rotating cylinder. Finally, redundant matter is extracted from the rock salt, in what is known as picking.</p>
                    <p>Brine is water containing a high concentration of salt. The most obvious source of brine is the ocean, but it can also be obtained from salty lakes such as the Dead Sea and from underground pools of salt water. Most brine is processed by a multi-effect vacuum evaporator. This device consists of three or more closed metal cylinders. Brine is first treated to remove chemical compounds. It then fills the bottom of the cylinders. The brine in the first cylinder passes through tubes heated by steam. The brine boils and its steam enters the next cylinder. In each cylinder, the condensation of steam causes the pressure inside to drop. A material called slurry forms at the bottom of the cylinders and goes into a tank. The slurry is then filtered to remove excess brine, dried and passed through screens to sort the salt particles according to how large they are.</p>
                    <p>Specifications for salt vary widely according to the intended use. Salt intended for human consumption must be much purer than salt used for melting snow and ice on roads, but salt used for certain scientific purposes may need to be even purer.</p>
                </div>
            </div>
        </div>
        
        <div class="questions-container" id="questions-container">
            <div class="section-title">Questions 1-5</div>
            <div class="instructions">Do the following statements agree with the information given in Reading Passage 1?</div>
            <div class="instructions">In boxes 1-5 on your answer sheet, write:<br>
                TRUE - if the statement agrees with the information<br>
                FALSE - if the statement contradicts the information<br>
                NOT GIVEN - if there is no information on this
            </div>
            
            <div class="question-group">
                <div class="question" id="q1">
                    <div class="question-title">
                        <div class="question-number">1</div>
                        <div class="question-text">The chemical industry makes use of the majority of salt produced globally.</div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q1" value="TRUE"> TRUE
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="FALSE"> FALSE
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="NOT GIVEN"> NOT GIVEN
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q2">
                    <div class="question-title">
                        <div class="question-number">2</div>
                        <div class="question-text">In ancient times, people were only able to get salt from a single source.</div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q2" value="TRUE"> TRUE
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="FALSE"> FALSE
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="NOT GIVEN"> NOT GIVEN
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q3">
                    <div class="question-title">
                        <div class="question-number">3</div>
                        <div class="question-text">Salt production through quarrying rock salt was common before the solar evaporation method of producing salt.</div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q3" value="TRUE"> TRUE
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="FALSE"> FALSE
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="NOT GIVEN"> NOT GIVEN
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q4">
                    <div class="question-title">
                        <div class="question-number">4</div>
                        <div class="question-text">Two thousand years ago, the Chinese were quick to develop the equipment needed to mine underground.</div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q4" value="TRUE"> TRUE
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="FALSE"> FALSE
                        </label>
                        <label class="option">
                            <input type="radio" name="q4" value="NOT GIVEN"> NOT GIVEN
                        </label>
                    </div>
                </div>
                
                <div class="question" id="q5">
                    <div class="question-title">
                        <div class="question-number">5</div>
                        <div class="question-text">At the time of the Roman Empire, salt was removed from salt water by heating the water in a type of pan.</div>
                    </div>
                    <div class="options">
                        <label class="option">
                            <input type="radio" name="q5" value="TRUE"> TRUE
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="FALSE"> FALSE
                        </label>
                        <label class="option">
                            <input type="radio" name="q5" value="NOT GIVEN"> NOT GIVEN
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="section-title">Questions 6-9</div>
            <div class="instructions">Complete the notes below. Choose ONE WORD ONLY from the passage for each answer.</div>
            
            <div class="question-group">
                <div class="question" id="q6">
                    <div class="question-title">
                        <div class="question-number">6</div>
                        <div class="question-text">The production of rock salt:<br>samples of the salt are collected with the aid of a drill<br>the salt is analysed to see if mining should go ahead<br>vertical tunnels are sunk into the middle of the salt deposit<br>during a process called <input type="text" name="q6" class="fill-in-the-blank">, a machine is used to break into the salt</div>
                    </div>
                </div>
                
                <div class="question" id="q7">
                    <div class="question-title">
                        <div class="question-number">7</div>
                        <div class="question-text">The production of rock salt:<br>explosives are placed in the holes in the salt<br>after blasting, <input type="text" name="q7" class="fill-in-the-blank"> of salt are left behind to hold the roof up</div>
                    </div>
                </div>
                
                <div class="question" id="q8">
                    <div class="question-title">
                        <div class="question-number">8</div>
                        <div class="question-text">The production of rock salt:<br>in an underground crushing area, small pieces of rock salt are gathered using a <input type="text" name="q8" class="fill-in-the-blank"></div>
                    </div>
                </div>
                
                <div class="question" id="q9">
                    <div class="question-title">
                        <div class="question-number">9</div>
                        <div class="question-text">The production of rock salt:<br>the process of <input type="text" name="q9" class="fill-in-the-blank"> removes any unwanted material from the rock salt</div>
                    </div>
                </div>
            </div>

            <div class="section-title">Questions 10-13</div>
            <div class="instructions">Complete the flow-chart below. Choose ONE WORD ONLY from the passage for each answer.</div>
            
            <div class="question-group flowchart-group">
                <div class="flowchart-title-main">Obtaining salt from brine: the multi-effect vacuum evaporator</div>
                
                <div class="question" id="q10">
                    <div class="question-title">
                        <div class="question-number">10</div>
                        <div class="question-text">cylinders made of <input type="text" name="q10" class="fill-in-the-blank"> are filled with brine</div>
                    </div>
                </div>
                <div class="flowchart-arrow-container"><span class="flowchart-arrow">&darr;</span></div>
                
                <div class="question" id="q11">
                    <div class="question-title">
                        <div class="question-number">11</div>
                        <div class="question-text"><input type="text" name="q11" class="fill-in-the-blank"> heats the tube in the first cylinder</div>
                    </div>
                </div>
                <div class="flowchart-arrow-container"><span class="flowchart-arrow">&darr;</span></div>
                
                <div class="question" id="q12">
                    <div class="question-title">
                        <div class="question-number">12</div>
                        <div class="question-text">the <input type="text" name="q12" class="fill-in-the-blank"> in the cylinders falls due to condensation</div>
                    </div>
                </div>
                <div class="flowchart-arrow-container"><span class="flowchart-arrow">&darr;</span></div>
                
                <div class="question" id="q13">
                    <div class="question-title">
                        <div class="question-number">13</div>
                        <div class="question-text"><input type="text" name="q13" class="fill-in-the-blank"> are used to separate salt particles by size</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="progress-container" id="progress-container">
            </div>
        <div class="action-buttons">
            <button class="btn-secondary" id="reset-btn">Reset Answers</button>
            <button class="btn-primary" id="submit-btn">Submit Answers</button>
        </div>
    </footer>

    <div class="feedback-overlay" id="feedback-overlay">
        <div class="feedback-container" id="feedback-container">
            <div class="feedback-header">
                <div class="feedback-title">
                    <i class="fas fa-chart-bar"></i> Your Results
                    <span class="score-display" id="score-display">0/13</span>
                </div>
                <button id="close-feedback" title="Close"><i class="fas fa-times"></i></button>
            </div>
            <div class="feedback-body" id="feedback-body">
                </div>
        </div>
    </div>


    <script>
        // Timer functionality
        let timerInterval;
        let seconds = 1200; // 20 minutes
        let timerRunning = false;
        
        const timerDisplay = document.getElementById('timer');
        const startTimer = document.getElementById('start-timer');
        const pauseTimer = document.getElementById('pause-timer');
        const resetTimer = document.getElementById('reset-timer');
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            return `${mins}:${secs}`;
        }
        
        function updateTimer() {
            timerDisplay.textContent = formatTime(seconds);
            if (seconds <= 0) {
                clearInterval(timerInterval);
                timerRunning = false;
                document.getElementById('submit-btn').click();
            }
        }
        
        startTimer.addEventListener('click', () => {
            if (!timerRunning) {
                timerRunning = true;
                timerInterval = setInterval(() => {
                    seconds--;
                    updateTimer();
                }, 1000);
            }
        });
        
        pauseTimer.addEventListener('click', () => {
            if (timerRunning) {
                clearInterval(timerInterval);
                timerRunning = false;
            }
        });
        
        resetTimer.addEventListener('click', () => {
            clearInterval(timerInterval);
            timerRunning = false;
            seconds = 1200;
            updateTimer();
        });
        
        // Night mode toggle
        const nightModeToggle = document.getElementById('night-mode-toggle');
        nightModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('night-mode');
            const icon = nightModeToggle.querySelector('i');
            if (document.body.classList.contains('night-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        });
        
        // Create progress indicators
        const progressContainer = document.getElementById('progress-container');
        for (let i = 1; i <= 13; i++) {
            const progressItem = document.createElement('div');
            progressItem.className = 'progress-item';
            progressItem.textContent = i;
            progressItem.dataset.question = i;
            progressContainer.appendChild(progressItem);
            
            progressItem.addEventListener('click', () => {
                const questionElement = document.getElementById(`q${i}`);
                if (questionElement) {
                    questionElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        }
        
        // Text highlighting functionality
        let highlightTooltip = null;

        function handleMouseUp(e) {
            const container = e.currentTarget;
            const selection = window.getSelection();
            if (selection.toString().trim() !== '' && container.contains(selection.anchorNode)) {
                const range = selection.getRangeAt(0);
                const rect = range.getBoundingClientRect();

                if (highlightTooltip) {
                    highlightTooltip.remove();
                    highlightTooltip = null;
                }

                highlightTooltip = document.createElement('div');
                highlightTooltip.className = 'highlight-tooltip';
                highlightTooltip.innerHTML = '<i class="fas fa-highlighter"></i> Highlight';
                highlightTooltip.style.position = 'fixed';
                highlightTooltip.style.top = `${rect.top - 40}px`;
                highlightTooltip.style.left = `${rect.left}px`;
                document.body.appendChild(highlightTooltip);

                highlightTooltip.addEventListener('click', () => {
                    const span = document.createElement('span');
                    span.className = 'highlight';
                    span.appendChild(range.extractContents());
                    range.insertNode(span);
                    selection.removeAllRanges();
                    highlightTooltip.remove();
                    highlightTooltip = null;
                });
            }
        }

        document.getElementById('passage-text').addEventListener('mouseup', handleMouseUp);
        document.getElementById('questions-container').addEventListener('mouseup', handleMouseUp);
        
        document.addEventListener('mousedown', (e) => {
            if (highlightTooltip && !highlightTooltip.contains(e.target)) {
                highlightTooltip.remove();
                highlightTooltip = null;
                window.getSelection().removeAllRanges();
            }
        });
        
        // Track answered questions
        const questions = document.querySelectorAll('.question');
        const progressItems = document.querySelectorAll('.progress-item');
        
        function updateProgress() {
            let answeredCount = 0;
            
            questions.forEach((question, index) => {
                const questionNumber = index + 1;
                let answered = false;
                
                if (questionNumber <= 5) { // Questions 1-5 are True/False/Not Given
                    const selectedOption = question.querySelector('input:checked');
                    answered = selectedOption !== null;
                } else { // Questions 6-13 are fill-in-the-blank
                    const input = question.querySelector('input[type="text"]');
                    answered = input.value.trim() !== '';
                }
                
                if (answered) {
                    question.classList.add('answered');
                    progressItems[index].classList.add('completed');
                    answeredCount++;
                } else {
                    question.classList.remove('answered');
                    progressItems[index].classList.remove('completed');
                }
            });
            
            return answeredCount;
        }
        
        document.querySelectorAll('input[type="radio"], input[type="text"]').forEach(input => {
            input.addEventListener('change', updateProgress);
            input.addEventListener('input', updateProgress);
        });
        
        // Reset button
        document.getElementById('reset-btn').addEventListener('click', () => {
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });
            
            document.querySelectorAll('.highlight').forEach(highlight => {
                const parent = highlight.parentNode;
                while (highlight.firstChild) {
                    parent.insertBefore(highlight.firstChild, highlight);
                }
                parent.removeChild(highlight);
                parent.normalize();
            });
            
            updateProgress();
            document.getElementById('feedback-overlay').style.display = 'none';
        });
        
        // Submit and Feedback functionality
        const feedbackOverlay = document.getElementById('feedback-overlay');
        const closeFeedbackBtn = document.getElementById('close-feedback');

        document.getElementById('submit-btn').addEventListener('click', () => {
            console.log("Submit button clicked!"); // Debugging log
            pauseTimer.click();
            
            // Define the correct answers and explanations for the "Salt" passage
            const answers = {
                1: 'TRUE', 2: 'FALSE', 3: 'FALSE', 4: 'NOT GIVEN', 5: 'TRUE',
                6: 'undercutting', 7: 'pillars', 8: 'grill', 9: 'picking',
                10: 'metal', 11: 'steam', 12: 'pressure', 13: 'screens'
            };
            
            const explanations = {
                1: "The passage states that 'About 70% is utilized by the chemical industry'.",
                2: "The passage mentions early humans obtained salt from 'natural salt concentrations, as well as from meat,' and later from 'seaweed or from the natural evaporation of small pools of seawater,' indicating multiple sources.",
                3: "The passage states that 'Solar evaporation was soon followed by the quarrying of exposed masses of rock salt,' indicating solar evaporation came first.",
                4: "The passage notes that 'Two thousand years ago, the Chinese began using wells to reach underground pools of salt water,' but it doesn't specify if they were quick to develop the equipment.",
                5: "The passage mentions 'During the time of the Roman Empire, shallow lead pans were used to boil salt water over open fires to extract the salt.'",
                6: "The process is described as 'a procedure known as undercutting'.",
                7: "The text says 'leaves salt pillars standing to support the roof of the mining area'.",
                8: "It states 'smaller pieces are collected via a metal grill'.",
                9: "The process is described as 'redundant matter is extracted from the rock salt, in what is known as picking'.",
                10: "The device 'consists of three or more closed metal cylinders'.",
                11: "The brine 'passes through tubes heated by steam'.",
                12: "In each cylinder, 'the condensation of steam causes the pressure inside to drop'.",
                13: "The slurry is 'dried and passed through screens to sort the salt particles according to how large they are'."
            };
            
            const passageReferences = {
                1: "Although salt is most familiar as a food supplement, less than 5% of the salt produced worldwide is used for that purpose. About 70% is utilized by the chemical industry, mostly as a source of chlorine.",
                2: "The earliest humans obtained their salt from natural salt concentrations, as well as from meat. Those people who lived near the ocean may have also obtained it by chewing seaweed or from the natural evaporation of small pools of seawater.",
                3: "The earliest method of salt production employed by mankind was the evaporation of seawater using the heat of the sun. ... Solar evaporation was soon followed by the quarrying of exposed masses of rock salt...",
                4: "Two thousand years ago, the Chinese began using wells to reach underground pools of salt water, some of which were more than one kilometer deep.",
                5: "During the time of the Roman Empire, shallow lead pans were used to boil salt water over open fires to extract the salt.",
                6: "Then a machine resembling a gigantic chain saw is used to cut a long horizontal slot through the salt, in a procedure known as undercutting.",
                7: "Cutting and blasting are repeated in a pattern that leaves salt pillars standing to support the roof of the mining area.",
                8: "Once blasted, chunks of the rock salt are transported to an underground crushing area where smaller pieces are collected via a metal grill...",
                9: "Finally, redundant matter is extracted from the rock salt, in what is known as picking.",
                10: "This device consists of three or more closed metal cylinders.",
                11: "The brine in the first cylinder passes through tubes heated by steam.",
                12: "In each cylinder, the condensation of steam causes the pressure inside to drop.",
                13: "The slurry is then filtered to remove excess brine, dried and passed through screens to sort the salt particles according to how large they are."
            };
            
            let correctCount = 0;
            const feedbackBody = document.getElementById('feedback-body');
            feedbackBody.innerHTML = ''; 
            
            for (let i = 1; i <= 13; i++) {
                let userAnswer, isCorrect, questionHTML;
                const feedbackItem = document.createElement('div');
                feedbackItem.className = 'feedback-item';
                
                const questionDiv = document.querySelector(`#q${i} .question-text`);

                if (i <= 5) { // Questions 1-5 are True/False/Not Given
                    const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                    userAnswer = selectedOption ? selectedOption.value : 'Not answered';
                    isCorrect = userAnswer === answers[i];
                    questionHTML = questionDiv.textContent;
                } else { // Questions 6-13 are fill-in-the-blank
                    const input = document.querySelector(`input[name="q${i}"]`);
                    userAnswer = input.value.trim();
                    isCorrect = userAnswer.toLowerCase() === answers[i].toLowerCase(); // Case-insensitive check
                    // Recreate the question with the correct answer filled in for feedback
                    let originalQuestionText = questionDiv.innerHTML;
                    // Replace the input field with the bolded, italicized correct answer
                    questionHTML = originalQuestionText.replace(/<input[^>]*>/, `<strong><em>${answers[i]}</em></strong>`);
                }
                
                if (isCorrect) correctCount++;
                
                feedbackItem.innerHTML = `
                    <div class="feedback-question">
                        <span class="${isCorrect ? 'correct' : 'incorrect'}">Question ${i}:</span>
                        ${isCorrect ? `<i class="fas fa-check correct" style="margin-left: 5px;"></i>` : `<i class="fas fa-times incorrect" style="margin-left: 5px;"></i>`}
                    </div>
                    <p><em>${questionHTML}</em></p>
                    <div class="feedback-answer">
                        <strong>Your answer:</strong> ${userAnswer || 'Not answered'}<br>
                        ${!isCorrect ? `<strong>Correct answer:</strong> ${answers[i]}` : ''}
                    </div>
                    <div class="feedback-explanation">
                        <strong>Explanation:</strong> ${explanations[i]}
                    </div>
                    <div class="feedback-passage">
                        <strong>Relevant passage:</strong> "${passageReferences[i]}"
                    </div>
                `;
                
                feedbackBody.appendChild(feedbackItem);
            }
            
            document.getElementById('score-display').textContent = `${correctCount}/13`;
            feedbackOverlay.style.display = 'flex'; // This line makes the overlay visible
            console.log("Feedback overlay display set to flex."); // Debugging log
        });

        closeFeedbackBtn.addEventListener('click', () => {
            feedbackOverlay.style.display = 'none';
        });

        feedbackOverlay.addEventListener('click', (e) => {
            if (e.target === feedbackOverlay) {
                feedbackOverlay.style.display = 'none';
            }
        });

        // Initialize timer display and progress
        updateTimer();
        updateProgress();
    </script>
</body>
</html>